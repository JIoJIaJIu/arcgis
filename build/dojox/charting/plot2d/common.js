//>>built
define("dojox/charting/plot2d/common","dojo/_base/lang dojo/_base/array dojo/_base/Color dojox/gfx dojox/lang/functional ../scaler/common".split(" "),function(t,u,r,v,x,w){var l=t.getObject("dojox.charting.plot2d.common",!0);return t.mixin(l,{doIfLoaded:w.doIfLoaded,makeStroke:function(c){if(!c)return c;if("string"==typeof c||c instanceof r)c={color:c};return v.makeParameters(v.defaultStroke,c)},augmentColor:function(c,a){var d=new r(c),b=new r(a);b.a=d.a;return b},augmentStroke:function(c,a){var d=
l.makeStroke(c);d&&(d.color=l.augmentColor(d.color,a));return d},augmentFill:function(c,a){new r(a);return"string"==typeof c||c instanceof r?l.augmentColor(c,a):c},defaultStats:{vmin:Number.POSITIVE_INFINITY,vmax:Number.NEGATIVE_INFINITY,hmin:Number.POSITIVE_INFINITY,hmax:Number.NEGATIVE_INFINITY},collectSimpleStats:function(c){for(var a=t.delegate(l.defaultStats),d=0;d<c.length;++d)for(var b=c[d],m=0;m<b.data.length;m++)if(null!==b.data[m]){if("number"==typeof b.data[m]){var m=a.vmin,e=a.vmax;u.forEach(b.data,
function(b,d){if(null!==b){var c=d+1,e=b;isNaN(e)&&(e=0);a.hmin=Math.min(a.hmin,c);a.hmax=Math.max(a.hmax,c);a.vmin=Math.min(a.vmin,e);a.vmax=Math.max(a.vmax,e)}})}else{var k=a.hmin,f=a.hmax,m=a.vmin,e=a.vmax;"xmin"in b&&"xmax"in b&&"ymin"in b&&"ymax"in b||u.forEach(b.data,function(b,d){if(null!==b){var c="x"in b?b.x:d+1,e=b.y;isNaN(c)&&(c=0);isNaN(e)&&(e=0);a.hmin=Math.min(a.hmin,c);a.hmax=Math.max(a.hmax,c);a.vmin=Math.min(a.vmin,e);a.vmax=Math.max(a.vmax,e)}});"xmin"in b&&(a.hmin=Math.min(k,b.xmin));
"xmax"in b&&(a.hmax=Math.max(f,b.xmax))}"ymin"in b&&(a.vmin=Math.min(m,b.ymin));"ymax"in b&&(a.vmax=Math.max(e,b.ymax));break}return a},calculateBarSize:function(c,a,d){d||(d=1);var b=a.gap,b=(c-2*b)/d;"minBarSize"in a&&(b=Math.max(b,a.minBarSize));"maxBarSize"in a&&(b=Math.min(b,a.maxBarSize));b=Math.max(b,1);return{size:b,gap:(c-b*d)/2}},collectStackedStats:function(c){var a=t.clone(l.defaultStats);if(c.length){a.hmin=Math.min(a.hmin,1);a.hmax=x.foldl(c,"seed, run -\x3e Math.max(seed, run.data.length)",
a.hmax);for(var d=0;d<a.hmax;++d){var b=c[0].data[d],b=b&&("number"==typeof b?b:b.y);isNaN(b)&&(b=0);a.vmin=Math.min(a.vmin,b);for(var m=1;m<c.length;++m){var e=c[m].data[d],e=e&&("number"==typeof e?e:e.y);isNaN(e)&&(e=0);b+=e}a.vmax=Math.max(a.vmax,b)}}return a},curve:function(c,a){var d=c.slice(0);"x"==a&&(d[d.length]=d[0]);return u.map(d,function(b,c){if(0==c)return"M"+b.x+","+b.y;if(!isNaN(a)){var e=b.x-d[c-1].x;return"C"+(b.x-e/a*(a-1))+","+d[c-1].y+" "+(b.x-e/a)+","+b.y+" "+b.x+","+b.y}if("X"==
a||"x"==a||"S"==a){var k,f=d[c-1],e=d[c],n,g,p,h=1/6;1==c?(k="x"==a?d[d.length-2]:f,h=1/3):k=d[c-2];c==d.length-1?(n="x"==a?d[1]:e,h=1/3):n=d[c+1];g=Math.sqrt((e.x-f.x)*(e.x-f.x)+(e.y-f.y)*(e.y-f.y));p=Math.sqrt((e.x-k.x)*(e.x-k.x)+(e.y-k.y)*(e.y-k.y));var l=Math.sqrt((n.x-f.x)*(n.x-f.x)+(n.y-f.y)*(n.y-f.y)),q=p*h,h=l*h;q>g/2&&h>g/2?(q=g/2,h=g/2):q>g/2?(q=g/2,h=g/2*l/p):h>g/2&&(h=g/2,q=g/2*p/l);"S"==a&&(k==f&&(q=0),e==n&&(h=0));g=f.x+q*(e.x-k.x)/p;k=f.y+q*(e.y-k.y)/p;p=e.x-h*(n.x-f.x)/l;f=e.y-h*(n.y-
f.y)/l}return"C"+(g+","+k+" "+p+","+f+" "+e.x+","+e.y)}).join(" ")},getLabel:function(c,a,d){return w.doIfLoaded("dojo/number",function(b){return(a?b.format(c,{places:d}):b.format(c))||""},function(){return a?c.toFixed(d):c.toString()})}})});