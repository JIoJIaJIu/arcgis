//>>built
define("dojox/date/islamic",["..","dojo/_base/lang","dojo/date","./islamic/Date"],function(l,m,n,k){var g=m.getObject("date.islamic",!0,l);g.getDaysInMonth=function(a){return a.getDaysInIslamicMonth(a.getMonth(),a.getFullYear())};g.compare=function(a,d,c){a instanceof k&&(a=a.toGregorian());d instanceof k&&(d=d.toGregorian());return n.compare.apply(null,arguments)};g.add=function(a,d,c){var e=new k(a);switch(d){case "day":e.setDate(a.getDate()+c);break;case "weekday":var b=a.getDay();if(5>b+c&&0<
b+c)e.setDate(a.getDate()+c);else{var f=d=0;5==b?(b=4,f=0<c?-1:1):6==b&&(b=4,f=0<c?-2:2);var b=0<c?5-b-1:-b,h=c-b,g=parseInt(h/5);0!=h%5&&(d=0<c?2:-2);d=d+7*g+h%5+b;e.setDate(a.getDate()+d+f)}break;case "year":e.setFullYear(a.getFullYear()+c);break;case "week":c*=7;e.setDate(a.getDate()+c);break;case "month":a=a.getMonth();e.setMonth(a+c);break;case "hour":e.setHours(a.getHours()+c);break;case "minute":e._addMinutes(c);break;case "second":e._addSeconds(c);break;case "millisecond":e._addMilliseconds(c)}return e};
g.difference=function(a,d,c){d=d||new k;c=c||"day";var e=d.getFullYear()-a.getFullYear(),b=1;switch(c){case "weekday":e=Math.round(g.difference(a,d,"day"));b=parseInt(g.difference(a,d,"week"));c=e%7;if(0==c)e=5*b;else{var f=0,h=a.getDay();d=d.getDay();b=parseInt(e/7);c=e%7;a=new k(a);a.setDate(a.getDate()+7*b);a=a.getDay();if(0<e)switch(!0){case 5==h:f=-1;break;case 6==h:f=0;break;case 5==d:f=-1;break;case 6==d:f=-2;break;case 5<a+c:f=-2}else if(0>e)switch(!0){case 5==h:f=0;break;case 6==h:f=1;break;
case 5==d:f=2;break;case 6==d:f=1;break;case 0>a+c:f=2}e=e+f-2*b}b=e;break;case "year":b=e;break;case "month":c=d.toGregorian()>a.toGregorian()?d:a;f=d.toGregorian()>a.toGregorian()?a:d;b=c.getMonth();h=f.getMonth();if(0==e)b=c.getMonth()-f.getMonth();else for(b=12-h+b,e=f.getFullYear()+1,c=c.getFullYear(),e;e<c;e++)b+=12;d.toGregorian()<a.toGregorian()&&(b=-b);break;case "week":b=parseInt(g.difference(a,d,"day")/7);break;case "day":b/=24;case "hour":b/=60;case "minute":b/=60;case "second":b/=1E3;
case "millisecond":b*=d.toGregorian().getTime()-a.toGregorian().getTime()}return Math.round(b)};return g});