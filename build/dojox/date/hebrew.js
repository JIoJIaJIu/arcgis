//>>built
define("dojox/date/hebrew",["..","dojo/_base/lang","dojo/date","./hebrew/Date"],function(l,m,n,k){var g=m.getObject("date.hebrew",!0,l);g.getDaysInMonth=function(c){return c.getDaysInHebrewMonth(c.getMonth(),c.getFullYear())};g.compare=function(c,b,d){c instanceof k&&(c=c.toGregorian());b instanceof k&&(b=b.toGregorian());return n.compare.apply(null,arguments)};g.add=function(c,b,d){var e=new k(c);switch(b){case "day":e.setDate(c.getDate()+d);break;case "weekday":b=c.getDay();var a=0;0>d&&6==b&&(b=
5,a=-1);if(5>b+d&&0<=b+d)e.setDate(c.getDate()+d+a);else{var f=0<d?5:-1,h=0<d?2:-2;0<d&&(5==b||6==b)&&(a=4-b,b=4);var g=b+d-f;d=parseInt(g/5);g%=5;e.setDate(c.getDate()-b+h+7*d+a+g+f)}break;case "year":e.setFullYear(c.getFullYear()+d);break;case "week":d*=7;e.setDate(c.getDate()+d);break;case "month":b=c.getMonth();a=b+d;c.isLeapYear(c.getFullYear())||(5>b&&5<=a?a++:5<b&&5>=a&&a--);e.setMonth(a);break;case "hour":e.setHours(c.getHours()+d);break;case "minute":e._addMinutes(d);break;case "second":e._addSeconds(d);
break;case "millisecond":e._addMilliseconds(d)}return e};g.difference=function(c,b,d){b=b||new k;d=d||"day";var e=b.getFullYear()-c.getFullYear(),a=1;switch(d){case "weekday":a=Math.round(g.difference(c,b,"day"));d=parseInt(g.difference(c,b,"week"));e=a%7;if(0==e)a=5*d;else{var f=0,h=c.getDay();b=b.getDay();d=parseInt(a/7);e=a%7;c=new k(c);c.setDate(c.getDate()+7*d);c=c.getDay();if(0<a)switch(!0){case 5==h:f=-1;break;case 6==h:f=0;break;case 5==b:f=-1;break;case 6==b:f=-2;break;case 5<c+e:f=-2}else if(0>
a)switch(!0){case 5==h:f=0;break;case 6==h:f=1;break;case 5==b:f=2;break;case 6==b:f=1;break;case 0>c+e:f=2}a=a+f-2*d}break;case "year":a=e;break;case "month":f=b.toGregorian()>c.toGregorian()?b:c;d=b.toGregorian()>c.toGregorian()?c:b;h=f.getMonth();a=d.getMonth();if(0==e)a=!b.isLeapYear(b.getFullYear())&&5<f.getMonth()&&5>=d.getMonth()?f.getMonth()-d.getMonth()-1:f.getMonth()-d.getMonth();else for(a=!d.isLeapYear(d.getFullYear())&&6>a?13-a-1:13-a,a+=!f.isLeapYear(f.getFullYear())&&5<h?h-1:h,e=d.getFullYear()+
1,f=f.getFullYear(),e;e<f;e++)a+=d.isLeapYear(e)?13:12;b.toGregorian()<c.toGregorian()&&(a=-a);break;case "week":a=parseInt(g.difference(c,b,"day")/7);break;case "day":a/=24;case "hour":a/=60;case "minute":a/=60;case "second":a/=1E3;case "millisecond":a*=b.toGregorian().getTime()-c.toGregorian().getTime()}return Math.round(a)};return g});