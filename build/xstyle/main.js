//>>built
define("xstyle/main",["require","put-selector/put"],function(E,A){function I(a,b){return a&&a.then?a.then(b):b(a)}function v(a,b,d){return I(a,function(a){var c=b[0];if(!a)return d(c||a);if(c&&a.get)return v(a.get(c),b.slice(1),d);if(a.receive)return a.receive(c?function(a){v(a,b,d)}:d);if(c)return v(a[c],b.slice(1),d);d(a)})}function ha(a,b,d){v(a,b.slice(0,b.length-1),function(a){var c=b[b.length-1];a.set?a.set(c,d):a[c]=d})}function X(a){a=p.getElementsByTagName(a);for(var b=0;b<a.length;b++)P(a[b])}
function ia(){return this.join("")}function Y(a){this.value=a}function P(a,b,d){function k(){E(["xstyle/load-imports"],function(c){c(a,function(){P(a,b,!0)})})}var c=a.sheet||a.styleSheet||a,e=c.needsParsing,g=c.rules||c.cssRules;if(c.imports&&!d&&c.imports.length)return k();if(!e)for(var f=0;f<g.length;f++){var l=g[f];if(l.href&&!d)return k();l.selectorText&&"x-"==l.selectorText.substring(0,2)&&(e=!0,/^'/.test(l.style.content))}J(c.localSource||(c.ownerNode||c.ownerElement).innerHTML,c,b)}function J(a,
b,d){function k(a,b,K){(z[a]||(z[a]={}))[b]=K}function c(a){z[a]||(z[a]={});k("selector","x-"+a,{onRule:function(b){b.eachProperty(function(b,R){var c=R.toString();do{c=c.match(/([^, \(]+)(?:[, ]+(.+))?/);if(!c)break;var d=c[1];if("module"==d)return k(a,b,R[1].args[0]);if("default"==d){if("pseudo"==a)try{p.querySelectorAll("x:"+b);break}catch(h){}}else if("prefix"!=d)return k(a,b,function(){return R})}while(c=c[2])})}})}function e(){}function g(a){this.caller=a;this.args=[]}function f(a,b){b.onRule();
var c=z.selector[a];c&&l(c,"onRule",b)}function l(a,c,K,ja){if(a){var e=h,k=function(a){"string"==typeof a&&b.addRule(e.fullSelector(),a);0==--D&&d&&d(b)};D++;var f=function(a){function F(a){console.error("Error occurred processing "+c.slice(2).toLowerCase()+" "+K+("{"==e.operator?' in rule "'+e.selector+'" {'+e.cssText:"")+". "+a.message);a&&console.error(a)}try{var d=a[c](K,ja,e,b);e instanceof g&&(e.result=d);d&&d.then?d.then(k,F):k(d)}catch(h){F(h)}};"string"==typeof a?E([a],f):f(a)}}function Q(a,
b){function c(a,b){b||(q+=a);if(m)if(m.push)"string"==typeof m[m.length-1]&&"string"==typeof a?m[m.length-1]+=a:a&&m.push(a);else if("string"==typeof m&&"string"==typeof a)m+=a;else{var F=[m,a];F.toString=ia;m=F}else m=a}h=x;for(var e=y.lastIndex=0,k=!0,q="",g=!0;;){var r=y.exec(a),u=r[4],t=r[1],w=r[2],r=r[3],p,n,m,A,r=r&&Z(r),t=Z(t);if(g){if(w?(q=n=t,p=w.charAt(0),A="?"==w.charAt(1)):q=r=t,m=r,n||"/"!=u)g=!1}else r=r?t+w:t,c(r);switch(u){case "'":case '"':var v="'"==u?ka:la;v.lastIndex=y.lastIndex;
(u=v.exec(a))||error("unterminated string");u=u[1];y.lastIndex=v.lastIndex;c(new Y(u));continue;case "/":"*"==a[y.lastIndex]?(S.lastIndex=y.lastIndex+1,S.exec(a),y.lastIndex=S.lastIndex):c("/");continue;case "\\":u=v.lastIndex++;c(a.charAt(u));continue;case "(":case "{":case "[":var B=!1;"{"==u?(g=!0,c(t=h.newRule(q),!0),p&&(k=!1,w&&"\x3e"!=w.charAt(1)||(m.creating=!0),"\x3d"==p&&r&&(B=!0)),h.root&&k&&(t.cssRule=b.cssRules[e++])):(w=r.match(/(.*?)([\w-]*)$/),c(t=h.newCall(w[2],m,h)),t.ref=G(h,w[2]),
(m.calls||(m.calls=[])).push(t));t.parent=h;t.selector=m.creating?".x-generated-"+T++:h.root?q:h.selector+" "+q;B&&(w=G(h,r.match(/[^\s]+$/)[0],!0))&&aa(w,t);h.currentName=n;h.currentSequence=m;h.assignmentOperator=p;L.push(h=t);h.operator=u;h.start=y.lastIndex;q="";h.selector&&h.selector.replace(/:([-\w]+)/,function(a,b){var c=z.pseudo[b];c&&l(c,"onPseudo",b,h)});m=n=null;continue}if(m)if(t=m[0],t.charAt&&"@"==t.charAt(0))"import"==m[0].slice(1,7)&&(w=J.getStyleSheet(b.cssRules[e++],m,b),D++,r=y.lastIndex,
Q(w.localSource,w),y.lastIndex=r);else try{h[":"==p?"setValue":"declareProperty"](n,m,A)}catch(C){console.error(C.stack||C)}switch(u){case ":":g=!0;p=":";break;case "}":case ")":case "]":ba[h.operator]!=u&&console.error("Incorrect opening operator "+h.operator+" with closing operator "+u);n=null;h.cssText=a.slice(h.start,y.lastIndex-1);"}"==u&&(f(h.selector,h),k=!0,q="");L.pop();h=L[L.length-1];m=h.currentSequence;n=h.currentName;p=h.assignmentOperator;h.root&&"}"==u&&(g=!0,p=!1);break;case "":d&&
d();return;case ";":m=null,g=!0,p=k=!1,q=""}}}b.addRule||(b.addRule=function(a,b,c){return this.insertRule(a+"{"+b+"}",0<=c?c:this.cssRules.length)});b.deleteRule||(b.deleteRule=b.removeRule);var z={property:{}};c("property");c("function");c("pseudo");z["function"]["var"]=B;z["function"]["extends"]=B;var D=1;(b.href||location.href).replace(/[^\/]+$/,"");e.prototype={eachProperty:function(a){for(var b=this.values||0,c=0;c<b.length;c++){var d=b[c];a.call(this,d||"unnamed",b[d])}},fullSelector:function(){return(this.parent?
this.parent.fullSelector():"")+(this.selector||"")+" "},newRule:function(a){return(this.rules||(this.rules={}))[a]=new e},newCall:function(a,b,c){return new g(a)},addSheetRule:function(a,c){if(c&&"@"!=a.charAt(0)){var d=b.addRule(a,c);-1==d&&(d=b.cssRules.length-1);return b.cssRules[d]}},onRule:function(){this.getCssRule()},getCssRule:function(){this.cssRule||(this.cssRule=this.addSheetRule(this.selector,this.cssText));return this.cssRule},get:function(a){return this.values[a]},declareProperty:function(a,
b,c){if("\x3e"==b[0].toString().charAt(0))a||(this.generator=b,b=ca(b,this),B.addRenderer("",b,this,b));else{var d=a in n.style||G(this,a);c&&d||((this.properties||(this.properties={}))[a]=b,d&&console.warn('Overriding existing property "'+a+'"'))}},setValue:function(a,b){var c=this.values||(this.values=[]);c.push(a);c[a]=b;if(c=b.calls)for(var d=0;d<c.length;d++){var e=c[d],h=e.ref;h&&"function"==typeof h.call&&h.call(e,this,a,b)}if(a){do{if(c=G(this,a)){var q=this;I(M(q,a,c),function(c){c=c.splice?
c:[c];for(var d=0;d<c.length&&!c[d].put(b,q,a);d++);});break}a=a.substring(0,a.lastIndexOf("-"))}while(a)}},cssText:""};var q=g.prototype=new e;q.declareProperty=q.setValue=function(a,b){this.args.push(b)};q.toString=function(){var a=this.operator;return a+this.args+ba[a]};var h,x=new e;x.root=!0;x.properties={Math:Math,module:function(a){return{then:function(b){E([a],b)}}},item:{forElement:function(a){for(;!a.item;)a=a.parentNode;return{element:a,receive:function(b){b(a.item)}}}},prefix:{put:function(a,
b,c){if("string"==typeof n.style[H+c])return b.addSheetRule(b.selector,H+c+":"+a)}},"var":{put:function(a,b,c){(b.variables||(b.variables={}))[c]=a;b=(b=b.variableListeners)&&b[c]||0;for(c=0;c<b.length;c++)b[c](a)},call:function(a,b,c,d){this.receive(function(a){b.addSheetRule(b.selector,c+": "+d.toString().replace(/var\([^)]+\)/g,a))},b,a.args[0])},receive:function(a,b,c){var d=b;do{if(b=d.variables&&d.variables[c])return d=d.variableListeners||(d.variableListeners={}),(d[c]||(d[c]=[])).push(a),
a(b);d=d.parent}while(d);a()}},on:{put:function(a,b,c){console.log("add event listener");M(b,c,a)}}};x.css=a;x.parse=Q;var L=[x];Q(a,b);0==--D&&d&&d(b);return x}function da(){X("link");X("style");if(!U)if(U=!0,ma["dom-qsa2.1"]){for(var a=0,b=C.length;a<b;a++)ea(C[a]);fa()}else for(var d=p.all,a=0,b=d.length;a<b;a++)ga(d[a])}function ea(a){for(var b=p.querySelectorAll(a.selector),d=a.name,k=0,c=b.length;k<c;k++){var e=b[k],g=e.elementalStyle;g||(g=e.elementalStyle={},e.elementalSpecificities={});var f=
e.renderings;f||(f=e.renderings=[],N.push(e));f.push({name:d,rendered:g[d]==a.propertyValue,renderer:a});g[d]=a.propertyValue}}function fa(){for(var a=0;a<N.length;a++){var b=N[a],d=b.renderings,k=b.elementalStyle;delete b.renderings;for(var c=0;c<d.length;c++){var e=d[c],g=e.renderer,f=g.rendered;V=k[e.name]==g.propertyValue;if(!f&&V)try{g.render(b)}catch(l){console.error(l,l.stack),A(b,"div.error",l.toString())}f&&!V&&g.unrender&&(g.unrender(b),d.splice(c--,1))}}N=[]}function ga(a,b){for(var d=
0,k=C.length;d<k;d++){var c=C[d];b&&b!=c.selector||(W?!W.call(a,c.selector):a.currentStyle[c.name]!=c.propertyValue)||c.render(a)}}function ca(a,b){T++;a=a.sort?a:[a];return function(d,k){for(var c=d,e=0,g=a.length;e<g;e++){var f=a[e];try{if(f.eachProperty)if(f.args)if("("==f.operator){var l=a[e+1];l&&l.eachProperty&&A(c,l.selector);var n=f.args.toString(),z=M(f,0,n);(function(a,c){I(z,function(d){d.forElement&&(d=d.forElement(c));var e=a.appendChild(p.createTextNode("Loading"));d.receive(function(b){if(b&&
b.sort){e&&(e.parentNode.removeChild(e),e=null);var c=l&&l.eachProperty&&l.get("each");c&&(c=ca(c,l));b.forEach(c?function(b){c(a,b)}:function(b){A(a,na[a.tagName]||"div",b)})}else"value"in a?(a.value=b,a["-x-variable"]=d):e.nodeValue=b},b,n)})})(c,d)}else A(c,f.toString());else A(c,f.selector),B.update(c,f.selector);else if("string"==typeof f){"\x3d"==f.charAt(0)&&(f=f.slice(1));for(var D=f.split(","),f=0,q=D.length;f<q;f++){var h=D[f].trim();if(h){var h=h.replace(/\([^)]*\)/,function(a){}),x=A(0==
f?c:d,h);k&&(x.item=k);l=a[e+1];x==c||l&&l.eachProperty||B.update(x);c=x}}}else c.appendChild(p.createTextNode(f.value))}catch(v){console.error(v,v.stack),c.appendChild(p.createTextNode(v))}}return c}}function M(a,b,d){function k(){var a=e.length+1,b=[],c=[],d,k,f=function(e){return function(g){b[e]=g;a--;if(0>=a)for(k=!0,d=p?p.apply(this,b):b[0],g=0;g<c.length;g++)c[g](d)}};if(p)for(var g=0;g<e.length;g++){var l=e[g];v(l[0],l.slice(1),f(g))}else{var l=e[0],n={then:function(a){c.push(a)}};I(l[0],
function(a){n=a;for(var b=1;b<l.length;b++)if(n&&n.get)n=n.get(l[b]);else{n={receive:function(b){v(a,l.slice(1),b)},put:function(a){ha(resolve,l.slice(1),a)}};break}for(b=0;b<c.length;b++)c[b](n)});return n}f(-1)();return d&&d.then?d:{receive:function(a){c&&c.push(a);k&&a(d)}}}var c=a["var-expr-"+b];if(e)return c;var e=[],g;e.id=T++;var f=[],l;d=d.join?d.join(""):d.toString();c=d.match(/^[\w_$\/\.-]*$/);d=d.replace(/("[^\"]*")|([\w_$\.\/-]+)/g,function(b,c,d){if(d){l=d.split("/");b=l.join("_");f.push(b);
e.push(l);c=l[0];d=G(a,c);if("string"==typeof d||d instanceof Array)d=M(a,c,d);else if(!d)throw Error('Could not find reference "'+c+'"');d.forElement&&(g=!0);l[0]=d}return b});if(!c)var p=Function.apply(this,f.concat(["return xstyleReturn("+d+")"]));e.func=p;a["var-expr-"+b]=e;return a["var-expr-"+b]=g?{forElement:function(b){for(var c,d=b;!W.call(b,a.selector);)b=b.parentNode;for(b=0;b<e.length;b++){var g=e[b],f=g[0];f.forElement&&(f=g[0]=f.forElement(d));g=f.element;if(d!=c){for(;d!=g;){if(d==
c)return;d=d.parentNode}c=d}}d=c["expr-result-"+e.id];d||(c["expr-result-"+e.id]=d=k(),d.element=c);return d}}:k()}function G(a,b,d){do{var k=a.properties&&a.properties[b]||d&&a.rules&&a.rules[b];a=a.parent}while(!k&&a);return k}function aa(a,b){b.cssText+=a.cssText;"values,properties,variables,calls".replace(/\w+/g,function(d){a[d]&&(b[d]=Object.create(a[d]))});var d=b.getCssRule();a.eachProperty(function(a,c){b.setValue(a,c);if(a){var e=d.style;e[a]||(e[a]=c)}});a.generator&&b.declareProperty(null,
a.generator)}var y=/\s*([^{\}\[\]\(\)\/\\'":=;]*)([=:]\??\s*([^{\}\[\]\(\)\/\\'":;]*))?([{\}\[\]\(\)\/\\'":;]|$)/g,ka=/((?:\\.|[^'])*)'/g,la=/((?:\\.|[^"])*)"/g,S=/\*\//g,T=0,na={TABLE:"tr",TBODY:"tr",TR:"td",UL:"li",OL:"li",SELECT:"option"},ba={"{":"}","[":"]","(":")"},p=document,Z="".trim?function(a){return a.trim()}:function(a){return a.replace(/^\s+|\s+$/g,"")},n=p.createElement("div");Y.prototype.toString=function(){return'"'+this.value.replace(/["\\\n\r]/g,"\\$\x26")+'"'};var O=navigator.userAgent,
H=-1<O.indexOf("WebKit")?"-webkit-":-1<O.indexOf("Firefox")?"-moz-":-1<O.indexOf("MSIE")?"-ms-":-1<O.indexOf("Opera")?"-o-":"";J.getStyleSheet=function(a,b){return a.styleSheet};p.addEventListener("change",function(a){a=a.target;var b=a["-x-variable"];b.put&&b.put(a.value)});var n=p.createElement("div"),ma={"dom-qsa2.1":!!n.querySelectorAll},W=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector,C=[],N=[],U;/e/.test(p.readyState||"")?
setTimeout(da,200):p.addEventListener("DOMContentLoaded",da);var V,B={process:P,vendorPrefix:H,applyProperty:function(a,b){return"opacity"==a&&"-ms-"==H?"filter: alpha(opacity\x3d"+100*b+"); zoom: 1;":H+a+":"+b+";"},onFunction:function(a,b,d){},onCall:function(a,b){function d(){var b=c,d="extends"==a?"rules":"variables";do{if(!b)throw Error('Could not find "'+k[0]+'" in the defined '+d);var e=b[d]&&b[d][k[0]],b=b.parent}while(!e);return e}var k=b.args,c=b.parent;if("extends"==a){var e=d();aa(e,c)}else if("var"==
a)return function(a){a.addSheetRule(a.selector,a.currentName+": "+a.currentSequence.toString().replace(/var\([^)]+\)/g,d()))}},parse:J,addRenderer:function(a,b,d,k){a={selector:d.selector,propertyValue:b,name:a,render:k};C.push(a);U&&ea(a);fa()},update:ga,clearRenderers:function(){C=[]},load:function(a,b,d,k){b(["xstyle/css"],function(c){c.load(a,b,d,k)})}};return B});xstyleReturn=function(E){return 1==arguments.length?E:[].slice.call(arguments)};