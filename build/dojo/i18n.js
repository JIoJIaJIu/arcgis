//>>built
define("dojo/i18n","./_base/kernel require ./has ./_base/array ./_base/config ./_base/lang ./_base/xhr ./json module".split(" "),function(h,l,q,w,B,r,t,C,D){q.add("dojo-preload-i18n-Api",1);t=h.i18n={};var E=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,F=function(a,c,b,e){var f=[b+e];c=c.split("-");for(var n="",k=0;k<c.length;k++)if(n+=(n?"-":"")+c[k],!a||a[n])f.push(b+n+"/"+e),f.specificity=n;return f},m={},z=function(a,c,b){b=b?b.toLowerCase():h.locale;a=a.replace(/\./g,"/");c=c.replace(/\./g,"/");
return/root/i.test(b)?a+"/nls/"+c:a+"/nls/"+b+"/"+c},G=h.getL10nName=function(a,c,b){return D.id+"!"+z(a,c,b)},I=function(a,c,b,e,f,n){a([c],function(k){var d=r.clone(k.root||k.ROOT),v=F(!k._v1x&&k,f,b,e);a(v,function(){for(var a=1;a<v.length;a++)d=r.mixin(r.clone(d),arguments[a]);m[c+"/"+f]=d;d.$locale=v.specificity;n()})})},J=function(a){var c=B.extraLocale||[],c=r.isArray(c)?c:[c];c.push(a);return c},y=function(a,c,b){if(q("dojo-preload-i18n-Api")){var e=a.split("*"),f="preload"==e[1];f&&(m[a]||
(m[a]=1,K(e[2],C.parse(e[3]),1,c)),b(1));(e=f)||(u&&x.push([a,c,b]),e=u);if(e)return}a=E.exec(a);var d=a[1]+"/",k=a[5]||a[4],l=d+k,e=(a=a[5]&&a[4])||h.locale||"",v=l+"/"+e;a=a?[e]:J(e);var H=a.length,A=function(){--H||b(r.delegate(m[v]))};w.forEach(a,function(a){var b=l+"/"+a;q("dojo-preload-i18n-Api")&&g(b);m[b]?A():I(c,l,d,k,a,A)})};if(q("dojo-unit-tests"))var L=t.unitTests=[];q("dojo-preload-i18n-Api");var M=t.normalizeLocale=function(a){a=a?a.toLowerCase():h.locale;return"root"==a?"ROOT":a},u=
0,x=[],K=t._preloadLocalizations=function(a,c,b,e){function d(a,c){e([a],c)}function n(a,c){for(var b=a.split("-");b.length;){if(c(b.join("-")))return;b.pop()}c("ROOT")}function k(){for(--u;!u&&x.length;)y.apply(null,x.shift())}function g(b){b=M(b);n(b,function(g){if(0<=w.indexOf(c,g)){var h=a.replace(/\./g,"/")+"_"+g;u++;d(h,function(a){for(var c in a){var d=a[c],f=c.match(/(.+)\/([^\/]+)$/),h;if(f){h=f[2];f=f[1]+"/";d._localized=d._localized||{};var p;if("ROOT"===g){var q=p=d._localized;delete d._localized;
q.root=d;m[l.toAbsMid(c)]=q}else p=d._localized,m[l.toAbsMid(f+h+"/"+g)]=d;g!==b&&function(a,c,d,f){var g=[],h=[];n(b,function(b){f[b]&&(g.push(l.toAbsMid(a+b+"/"+c)),h.push(l.toAbsMid(a+c+"/"+b)))});g.length?(u++,e(g,function(){for(var e=0;e<g.length;e++)d=r.mixin(r.clone(d),arguments[e]),m[h[e]]=d;m[l.toAbsMid(a+c+"/"+b)]=r.clone(d);k()})):m[l.toAbsMid(a+c+"/"+b)]=d}(f,h,d,p)}}k()});return!0}return!1})}e=e||l;g();w.forEach(h.config.extraLocale,g)},g=function(){},d={},p=new Function("__bundle","__checkForLegacyModules",
"__mid","__amdValue","var define \x3d function(mid, factory){define.called \x3d 1; __amdValue.result \x3d factory || mid;},\t   require \x3d function(){define.called \x3d 1;};try{define.called \x3d 0;eval(__bundle);if(define.called\x3d\x3d1)return __amdValue;if((__checkForLegacyModules \x3d __checkForLegacyModules(__mid)))return __checkForLegacyModules;}catch(e){}try{return eval('('+__bundle+')');}catch(e){return e;}"),g=function(a){for(var c,b=a.split("/"),d=h.global[b[0]],f=1;d&&f<b.length-1;d=
d[b[f++]]);d&&((c=d[b[f]])||(c=d[b[f].replace(/-/g,"_")]),c&&(m[a]=c));return c};t.getLocalization=function(a,c,b){var d;a=z(a,c,b);y(a,l,function(a){d=a});return d};q("dojo-unit-tests")&&L.push(function(a){a.register("tests.i18n.unit",function(a){var b;b=p("{prop:1}",g,"nonsense",d);a.is({prop:1},b);a.is(void 0,b[1]);b=p("({prop:1})",g,"nonsense",d);a.is({prop:1},b);a.is(void 0,b[1]);b=p("{'prop-x':1}",g,"nonsense",d);a.is({"prop-x":1},b);a.is(void 0,b[1]);b=p("({'prop-x':1})",g,"nonsense",d);a.is({"prop-x":1},
b);a.is(void 0,b[1]);b=p("define({'prop-x':1})",g,"nonsense",d);a.is(d,b);a.is({"prop-x":1},d.result);b=p("define('some/module', {'prop-x':1})",g,"nonsense",d);a.is(d,b);a.is({"prop-x":1},d.result);b=p("this is total nonsense and should throw an error",g,"nonsense",d);a.is(b instanceof Error,!0)})});return r.mixin(t,{dynamic:!0,normalize:function(a,c){return/^\./.test(a)?c(a):a},load:y,cache:m,getL10nName:G})});