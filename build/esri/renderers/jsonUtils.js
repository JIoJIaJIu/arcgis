//>>built
define("esri/renderers/jsonUtils","dojo/_base/array dojo/_base/lang dojo/has dojox/gfx/_base ../kernel ../Color ../symbols/jsonUtils ./SimpleRenderer ./UniqueValueRenderer ./ClassBreaksRenderer ./VectorFieldRenderer ./DotDensityRenderer ./ScaleDependentRenderer ./TimeClassBreaksAger ./TimeRampAger ./TemporalRenderer ./HeatmapRenderer".split(" "),function(h,f,m,n,p,g,k,q,r,t,u,v,w,c,x,y,z){var l={fromJson:function(a){var b;switch(a.type||""){case "simple":b=new q(a);break;case "uniqueValue":b=new r(a);
break;case "classBreaks":b=new t(a);break;case "vectorField":b=new u(a);break;case "scaleDependent":b=this._scaleDependentFromJson(a);break;case "dotDensity":b=this._dotDensityFromJson(a);break;case "temporal":b=this._temporalFromJson(a);break;case "heatmap":b=this._heatmapFromJson(a)}return b},_scaleDependentFromJson:function(a){var b={},d=a.minScale;return b.rendererInfos=h.map(a.rendererInfos,function(a){var b=a.maxScale;a={minScale:d,maxScale:b,renderer:a.renderer&&this.fromJson(a.renderer)};
return d=b,a},this),new w(b)},_dotDensityFromJson:function(a){return a.backgroundColor&&f.isArray(a.backgroundColor)&&(a.backgroundColor=g.toDojoColor(a.backgroundColor)),0<a.dotSize&&(a.dotSize=n.pt2px(a.dotSize)),a.fields&&h.forEach(a.fields,function(a){a&&f.isArray(a.color)&&(a.color=g.toDojoColor(a.color))}),a.legendOptions&&(a.legendOptions.backgroundColor&&f.isArray(a.legendOptions.backgroundColor)&&(a.legendOptions.backgroundColor=g.toDojoColor(a.legendOptions.backgroundColor)),a.legendOptions.outline&&
(a.legendOptions.outline=k.fromJson(a.legendOptions.outline))),a.outline&&(a.outline=k.fromJson(a.outline)),new v(a)},_temporalFromJson:function(a){var b,d,e,c;return a=a||{},b=this.fromJson(a.observationRenderer),d=a.latestObservationRenderer?this.fromJson(a.latestObservationRenderer):null,e=a.trackRenderer?this.fromJson(a.trackRenderer):null,c=this._agerFromJson(a.observationAger),new y(b,d,e,c)},_agerFromJson:function(a){var b;return a=a||{},a.colorRange||a.sizeRange||a.alphaRange?b=this._timeRampFromJson(a):
a.agerClassBreakInfos&&(b=this._timeClassBreaksFromJson(a)),b},_timeRampFromJson:function(a){var b,d,c;return a.colorRange&&1<a.colorRange.length&&(b=[g.toDojoColor(a.colorRange[0]),g.toDojoColor(a.colorRange[1])]),a.sizeRange&&1<a.sizeRange.length&&(d=[a.sizeRange[0],a.sizeRange[1]]),a.alphaRange&&1<a.alphaRange.length&&(c=[a.alphaRange[0]/255,a.alphaRange[1]/255]),new x(b,d,c)},_timeClassBreaksFromJson:function(a){var b,d,e,f=a.agerClassBreakInfos,h=[];b=c.UNIT_DAYS;switch(a.timeUnits){case "esriTimeUnitsSeconds":b=
c.UNIT_SECONDS;break;case "esriTimeUnitsMilliseconds":b=c.UNIT_MILLISECONDS;break;case "esriTimeUnitsHours":b=c.UNIT_HOURS;break;case "esriTimeUnitsMinutes":b=c.UNIT_MINUTES;break;case "esriTimeUnitsMonths":b=c.UNIT_MONTHS;break;case "esriTimeUnitsWeeks":b=c.UNIT_WEEKS;break;case "esriTimeUnitsYears":b=c.UNIT_YEARS}for(e=0;e<f.length;e+=1)a=f[e],d={minAge:0,maxAge:a.oldestAge||1/0},a.color&&(d.color=g.toDojoColor(a.color)),a.alpha&&(d.alpha=a.alpha/255),d.size=a.size,h[e]=d;return new c(h,b)},_heatmapFromJson:function(a){var b=
a.colorStops;return b&&b instanceof Array&&h.forEach(b,function(a){a.color=g.toDojoColor(a.color)}),new z(a)}};return m("extend-esri")&&f.mixin(f.getObject("renderer",!0,p),l),l});