//>>built
define("esri/renderers/TimeRampAger","dojo/_base/declare dojo/_base/lang dojo/_base/Color dojo/has ../kernel ../symbols/jsonUtils ../Color ./SymbolAger".split(" "),function(g,p,q,r,t,u,n,v){g=g(v,{declaredClass:"esri.renderer.TimeRampAger",constructor:function(e,g,c){this.colorRange=e;this.sizeRange=g;this.alphaRange=c},getAgedSymbol:function(e,g){var c=g.getLayer(),d=g.attributes;e=u.fromJson(e.toJson());var a=c._map.timeExtent,b=a.startTime,a=a.endTime;if(!b||!a)return e;b=b.getTime();a=a.getTime();
c=new Date(d[c._startTimeField]);c=c.getTime();b>c&&(c=b);var h,c=a===b?1:(c-b)/(a-b);if(d=this.sizeRange)a=d[0],d=d[1],b=Math.abs(d-a)*c,this._setSymbolSize(e,d>a?a+b:a-b);if(d=this.colorRange){var k=d[0],a=d[1],m=Math.round;h=new q;var f=k.r,l=a.r,b=Math.abs(l-f)*c;h.r=m(l>f?f+b:f-b);f=k.g;l=a.g;b=Math.abs(l-f)*c;h.g=m(l>f?f+b:f-b);f=k.b;l=a.b;b=Math.abs(l-f)*c;h.b=m(l>f?f+b:f-b);k=k.a;a=a.a;b=Math.abs(a-k)*c;h.a=a>k?k+b:k-b;e.setColor(h)}if(h=e.color,d=this.alphaRange,d&&h)a=d[0],d=d[1],b=Math.abs(d-
a)*c,h.a=d>a?a+b:a-b;return e},toJson:function(){var e={};return this.sizeRange&&(e.sizeRange=this.sizeRange),this.colorRange&&(e.colorRange=[n.toJsonColor(this.colorRange[0]),n.toJsonColor(this.colorRange[1])]),this.alphaRange&&(e.alphaRange=[Math.round(255*this.alphaRange[0]),Math.round(255*this.alphaRange[1])]),e}});return r("extend-esri")&&p.setObject("renderer.TimeRampAger",g,t),g});