//>>built
define("esri/dijit/metadata/types/arcgis/form/InputHierarchyLevel","dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/topic dojo/query dijit/registry dojo/dom-class dojo/dom-style dojo/has ../../../../../kernel ./InputSelectCode dojo/i18n!../../../nls/i18nArcGIS".split(" "),function(f,q,n,r,l,m,d,w,t,u,v){f=f([v],{postCreate:function(){this.inherited(arguments);var c=this;this.own(r.subscribe("gxe/xnode-destroyed",function(a){try{a&&a.xnode&&"/metadata/mdHrLv"===a.xnode.gxePath&&c.emitInteractionOccurred()}catch(b){console.error(b)}}))},
emitInteractionOccurred:function(){this.inherited(arguments);try{var c=this.parentXNode.gxeDocument;(c.isAgsISO19139||c.isAgsINSPIRE)&&this._checkLevelName();(c.isAgsISO19139||c.isAgsINSPIRE||c.isAgsNAP||c.isAgsFGDC)&&this._checkService()}catch(a){console.error(a)}},_checkLevelName:function(){var c,a,b,k,g=this.parentXNode.parentElement.parentElement.parentElement.domNode,e=this.parentXNode.gxeDocument,h=!1;(e.isAgsISO19139||e.isAgsINSPIRE)&&(k=l("[data-gxe-path\x3d'/metadata/mdHrLv/ScopeCd/@value']",
g),h=n.some(k,function(b){return a=m.byNode(b),a&&(c=a.inputWidget.getInputValue(),null!==c&&""!==c&&"005"!==c&&"006"!==c)?!0:void 0}),a=this._findFirstInputWgt("/metadata/mdHrLvName",g),a&&(b=a.parentXNode.multiplicityHeader.labelNode,h?(a.parentXNode.minOccurs=1,a.parentXNode.multiplicityHeader.minOccurs=1,d.remove(b,"gxeOptionalLabel"),d.add(b,"gxeMandatoryLabel")):(a.parentXNode.minOccurs=0,a.parentXNode.multiplicityHeader.minOccurs=0,d.remove(b,"gxeMandatoryLabel"),d.add(b,"gxeOptionalLabel")),
a.emitInteractionOccurred()))},_checkQuality:function(){var c,a,b,k,g=this.parentXNode.parentElement.parentElement.parentElement.domNode,e=this.parentXNode.gxeDocument,h=!1,p=!1,f=!1;(e.isAgsISO19139||e.isAgsINSPIRE||e.isAgsNAP)&&(k=l("[data-gxe-path\x3d'/metadata/mdHrLv/ScopeCd/@value']",g),n.forEach(k,function(b){(a=m.byNode(b))&&(c=a.inputWidget.getInputValue(),"005"==c?p=!0:"006"===c&&(f=!0))}));(e.isAgsISO19139||e.isAgsNAP)&&(h=p||f,a=this._findElement("/metadata/dqInfo",g),a&&a.labelWidget&&
(b=a.labelWidget.domNode,h?(a.minOccurs=1,d.remove(b,"gxeOptionalLabel"),d.add(b,"gxeMandatoryLabel")):(a.minOccurs=0,d.remove(b,"gxeMandatoryLabel"),d.add(b,"gxeOptionalLabel"))))},_checkService:function(){var c,a,b,k,g=this.parentXNode.parentElement.parentElement.parentElement.domNode,e=this.parentXNode.gxeDocument,h=!1,f=!1;(e.isAgsISO19139||e.isAgsINSPIRE||e.isAgsNAP||e.isAgsFGDC)&&(k=l("[data-gxe-path\x3d'/metadata/mdHrLv/ScopeCd/@value']",g),n.forEach(k,function(b){(a=m.byNode(b))&&(c=a.inputWidget.getInputValue(),
"014"==c&&(f=!0))}));(e.isAgsISO19139||e.isAgsINSPIRE||e.isAgsNAP)&&(h=f,a=this._findInputWgt("/metadata/dataIdInfo/svType/genericName",g),a&&(b=a.parentXNode.labelNode,h?(a.parentXNode.minOccurs=1,d.remove(b,"gxeOptionalLabel"),d.add(b,"gxeMandatoryLabel")):(a.parentXNode.minOccurs=0,d.remove(b,"gxeMandatoryLabel"),d.add(b,"gxeOptionalLabel")),a.emitInteractionOccurred()),a=this._findInputWgt("/metadata/dataIdInfo/svCouplType/CouplTypCd/@value",g),a&&(b=a.parentXNode.parentElement.parentElement.labelNode,
h?(a.parentXNode.minOccurs=1,a.parentXNode.parentElement.minOccurs=1,a.parentXNode.parentElement.parentElement.minOccurs=1,d.remove(b,"gxeOptionalLabel"),d.add(b,"gxeMandatoryLabel")):(a.parentXNode.minOccurs=0,a.parentXNode.parentElement.minOccurs=0,a.parentXNode.parentElement.parentElement.minOccurs=0,d.remove(b,"gxeMandatoryLabel"),d.add(b,"gxeOptionalLabel")),a.emitInteractionOccurred()))},_findElement:function(c,a){var b=l("[data-gxe-path\x3d'"+c+"']",a);return b&&1===b.length?m.byNode(b[0]):
null},_findFirstInputWgt:function(c,a){var b,d=l("[data-gxe-path\x3d'"+c+"']",a);return d&&0<d.length&&(b=m.byNode(d[0]))?b.inputWidget:null},_findInputWgt:function(c,a){var b,d=l("[data-gxe-path\x3d'"+c+"']",a);return d&&1===d.length&&(b=m.byNode(d[0]))?b.inputWidget:null}});return t("extend-esri")&&q.setObject("dijit.metadata.types.arcgis.form.InputHierarchyLevel",f,u),f});