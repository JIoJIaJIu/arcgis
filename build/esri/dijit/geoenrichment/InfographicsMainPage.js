//>>built
require({cache:{"url:esri/dijit/geoenrichment/templates/InfographicsMainPage.html":'\x3cdiv data-dojo-type\x3d"dijit/layout/ContentPane" data-dojo-props\x3d"row: 0" class\x3d"Wizard_TopPane"\x3e\n    \x3cdiv class\x3d"DataBrowser_Title"\x3e${nls.mainTitle}\x3c/div\x3e\n    \x3ctable class\x3d"InfographicsMainPage_CountryAndTheme"\x3e\n        \x3ctr\x3e\n            \x3ctd\x3e\n                \x3cdiv class\x3d"configureInfographicsStep configureInfographicsStepOne"\x3e\x3c/div\x3e\n            \x3c/td\x3e\n            \x3ctd class\x3d"Wizard_AlignRight"\x3e${nls.chooseCountry}\x3c/td\x3e\n            \x3ctd\x3e\n                \x3cselect data-dojo-type\x3d"dijit/form/Select"\n                    data-dojo-attach-point\x3d"countrySelect"\n                    data-dojo-props\x3d"maxHeight: 151"\n                    data-dojo-attach-event\x3d"onChange: _onCountryChanged"\x3e\n                \x3c/select\x3e\n            \x3c/td\x3e\n        \x3c/tr\x3e\n        \x3ctr\x3e\n            \x3ctd colspan\x3d"2" class\x3d"Wizard_AlignRight"\x3e${nls.chooseTheme}\x3c/td\x3e\n            \x3ctd\x3e\n                \x3cselect data-dojo-attach-point\x3d"themeSelect" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-event\x3d"onChange: _onThemeChange"\x3e\n                    \x3coption value\x3d"common"\x3e${nls.dark}\x3c/option\x3e\n                    \x3coption value\x3d"light"\x3e${nls.light}\x3c/option\x3e\n                \x3c/select\x3e\n            \x3c/td\x3e\n        \x3c/tr\x3e\n        \x3ctr\x3e\n            \x3ctd style\x3d"padding-top: 6px;"\x3e\n                \x3cdiv class\x3d"configureInfographicsStep configureInfographicsStepTwo"\x3e\x3c/div\x3e\n            \x3c/td\x3e\n            \x3ctd colspan\x3d"2"\x3e\n                \x3cdiv class\x3d"InfographicsMainPage_ChooseDataCollection"\x3e${nls.chooseDataCollection}\x3c/div\x3e\n            \x3c/td\x3e\n        \x3c/tr\x3e\n    \x3c/table\x3e\n\x3c/div\x3e\n\x3cdiv data-dojo-type\x3d"dijit/layout/ContentPane" data-dojo-props\x3d"row: 1" class\x3d"InfographicsMainPage_VarListsPane"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"varListNode"\x3e\x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"progressDiv" class\x3d"Wizard_Progress"\x3e\x3c/div\x3e\n\x3c/div\x3e\n\x3cdiv data-dojo-type\x3d"dijit/layout/ContentPane" data-dojo-props\x3d"row: 2" class\x3d"Wizard_BottomPane"\x3e\n    \x3cspan data-dojo-attach-point\x3d"addMoreNode" class\x3d"InfographicsMainPage_AddVariables Wizard_Link" data-dojo-attach-event\x3d"click: _onAddVariables" style\x3d"display: none;"\x3e${nls.addVariables}\x3c/span\x3e\n\n    \x3ctable class\x3d"InfographicsMainPage_Step3"\x3e\n        \x3ctr\x3e\n            \x3ctd style\x3d"vertical-align: top; padding: 10px 0 0 0;"\x3e\n                \x3cdiv class\x3d"configureInfographicsStep configureInfographicsStepThree"\x3e\x3c/div\x3e\n            \x3c/td\x3e\n            \x3ctd style\x3d"padding: 0;"\x3e\n                \x3cdiv data-dojo-type\x3d"esri/dijit/geoenrichment/BufferOptions"\n                    data-dojo-attach-point\x3d"bufferOptions"\n                    data-dojo-attach-event\x3d"onChange: _onBufferChange"\n                    class\x3d"InfographicsMainPage_BufferOptions"\x3e\n                \x3c/div\x3e\n            \x3c/td\x3e\n        \x3c/tr\x3e\n    \x3c/table\x3e\n\n    \x3cdiv class\x3d"Wizard_Buttons"\x3e\n        \x3cbutton class\x3d"Wizard_Button" data-dojo-attach-point\x3d"okButton" data-dojo-attach-event\x3d"click: _onOK" disabled\x3d"disabled"\x3e${nls.ok}\x3c/button\x3e\n        \x3cbutton class\x3d"Wizard_Button" data-dojo-attach-event\x3d"click: _onCancel"\x3e${nls.cancel}\x3c/button\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n'}});
define("esri/dijit/geoenrichment/InfographicsMainPage","require ../../declare dojo/_base/lang dojo/on dojo/dom-construct dojo/dom-class dojo/Deferred ./_WizardPage dojo/i18n!../../nls/jsapi dojo/text!./templates/InfographicsMainPage.html ../../tasks/geoenrichment/GeoenrichmentTask ./config ./_Invoke ./CheckList ./theme ./DataBrowser/autoTooltip dijit/layout/ContentPane dijit/form/Select ./BufferOptions".split(" "),function(u,f,h,v,d,w,x,k,e,l,m,g,n,p,q,r){e=e.geoenrichment.dijit.InfographicsMainPage;
var t=f([p],{renderRow:function(a){a=a.item;var b=d.create("div",{"class":"InfographicsMainPage_Item"},this.itemsDiv);d.create("div",{"class":"dijit dijitInline dijitCheckBox InfographicsMainPage_ItemCheck"},b);var c=d.create("div",{"class":"InfographicsMainPage_ItemLabel TrimWithEllipses",innerHTML:a.title},b);return d.create("div",{"class":"InfographicsMainPage_ItemImage InfographicsMainPage_ItemImage_"+a.type},c),b}});return f("esri.dijit.geoenrichment.InfographicsMainPage",[k,n],{templateString:l,
nls:e,options:null,countryID:"US",_varList:null,_eventMap:{"add-variables":!0,ok:!0,cancel:!0},constructor:function(){this._task=new m(g.server);this._task.token=g.token},buildRendering:function(){this.inherited(arguments);var a=h.hitch(this,this.invoke,"_onSelect"),b=this._varList=new t({},this.varListNode);b.on("dgrid-select",a);b.on("dgrid-deselect",a);r(this.varListNode)},startup:function(){this._started||(this.inherited(arguments),this.countrySelect.addOption({value:"_",label:e.loading}),this.countrySelect.set("disabled",
!0),this.showProgress(this._task.getAvailableCountries(),"_onCountriesResponse"))},_onCountriesResponse:function(a){this.countrySelect.set("disabled",!1);for(var b=[],c=0;c<a.length;c++)b.push({label:a[c].name,value:a[c].id});this.countrySelect.set("options",b);this.countrySelect.set("value",this.countryID)},_setOptionsAttr:function(a){this._set("options",a);this.themeSelect.set("value",a.theme);this.bufferOptions.set("buffer",a.studyAreaOptions);this._renderItems()},_onCountryChanged:function(){this.countryID=
this.countrySelect.get("value");this._renderItems()},_onThemeChange:function(){var a=this.options.theme,b=this.themeSelect.get("value");q.change(this.varListNode,a,b);this.options.theme=b},_renderItems:function(){var a=this.countrySelect.get("value");a&&"_"!=a&&this.showProgress(this.options.getItems(a),"_onGetItems")},_onGetItems:function(a){var b,c=[],d=[];for(b=0;b<a.length;b++){var e=a[b],f=b.toString();c.push({id:f,item:e});e.isVisible&&d.push(f)}this._varList.set("items",c);this._varList.clearSelection();
for(b=0;b<d.length;b++)this._varList.select(d[b]);this.addMoreNode.style.display="";this.resize()},_onSelect:function(){var a=!1,b=this._varList.get("selection"),c;for(c in b)if(b[c]){a=!0;break}this.okButton.disabled=!a},_onBufferChange:function(){this.options.studyAreaOptions=this.bufferOptions.get("buffer")},_onAddVariables:function(){this.onAddVariables()},onAddVariables:function(){},_onOK:function(){for(var a=this._varList,b=a.get("store").data,c=0;c<b.length;c++)b[c].item.isVisible=a.isSelected(b[c]);
this.onOK()},onOK:function(){},_onCancel:function(){this.onCancel()},onCancel:function(){}})});