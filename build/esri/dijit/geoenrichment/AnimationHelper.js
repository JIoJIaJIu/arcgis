//>>built
define("esri/dijit/geoenrichment/AnimationHelper","../../declare dojo/_base/array dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/sniff dojo/on dojo/Deferred".split(" "),function(g,n,l,e,p,t,q,m){var h=function(){var a=document.getElementsByTagName("body")[0].style;return(h=void 0!==a.animationName?function(){return"animationend"}:void 0!==a.webkitAnimationName?function(){return"webkitAnimationEnd"}:function(){})()},r=g(null,{_oldNode:null,_targets:null,_deferred:null,start:function(a,d){if(this._oldNode=
d,this._deferred=new m,!h())return this.finish(),this._deferred.promise;this._targets=a;q.once(a[0].node,h(),l.hitch(this,this.finish));for(var b=0;b<a.length;b++){var c=a[b];e.add(c.node,c.classes);e.add(c.node,"Anim_Common")}return this._deferred.promise},finish:function(){if(this._targets){for(var a=0;a<this._targets.length;a++){var d=this._targets[a];e.remove(d.node,d.classes);e.remove(d.node,"Anim_Common")}this._targets=null}this._oldNode&&(p.destroy(this._oldNode),this._oldNode=null);this._deferred.resolve()}});
return g(null,{progress:null,_items:null,_flySurfaceNode:null,constructor:function(a){this._flySurfaceNode=a;this._items=[]},start:function(a,d){var b=new r;return this._items.push(b),this.progress||(this.progress=new m),b.start(a,d).then(l.hitch(this,this._onItemFinished,b))},_onItemFinished:function(a){a=n.indexOf(this._items,a);0<=a&&(this._items.splice(a,1),0===this._items.length&&this.progress&&(this.progress.resolve(),this.progress=null))},finish:function(){for(var a=this._items;0<a.length;)a[a.length-
1].finish()},fly:function(a,d,b){var c=a.cloneNode(!0);if(b||(b=["top","left"]),!h())return c;a=a.getBoundingClientRect();var g=this._flySurfaceNode.getBoundingClientRect();e.add(c,"Anim_FlyingObj");for(var k=0;k<b.length;k++){var f=b[k];c.style[f]=("right"===f||"bottom"===f?-1:1)*(a[f]-g[f])+"px"}return this._flySurfaceNode.appendChild(c),this.start([{node:c,classes:[d]}],c),c}})});