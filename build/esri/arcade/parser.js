//>>built
define("esri/arcade/parser",["require","exports","./treeAnalysis","./lib/esprima"],function(n,c,e,k){c.parseScript=function(a){a=k.parse("function _() { "+a+"\n}");if(null===a.body||void 0===a.body)throw Error("No formula provided.");if(0===a.body.length)throw Error("No formula provided.");if(0===a.body.length)throw Error("No formula provided.");if("BlockStatement"!==a.body[0].body.type)throw Error("Invalid formula content.");var b=e.validateLanguage(a);if(""!==b)throw Error(b);return a};c.scriptCheck=
function(a,b,c,p){var h=[];try{var l=k.parse("function _() { "+a+"\n}",{tolerant:!0,loc:!0}),f=l.errors;if(0<f.length)for(var g=0;g<f.length;g++)h.push({line:f[g].lineNumber,character:f[g].column,reason:f[g].description});var m=e.checkScript(l,b,c,p);for(b=0;b<m.length;b++)h.push(m[b])}catch(d){try{h.push("Unexpected token }"===d.description&&(d.index=("function _() { "+a+"\n}").length-1)?{line:d.lineNumber,character:d.column,reason:"Unexpected end of script"}:{line:d.lineNumber,character:d.column,
reason:d.description})}catch(n){}}return h};c.extractFieldLiterals=function(a,b){return void 0===b&&(b=!1),e.findFieldLiterals(a,b)};c.validateScript=function(a,b,c){return void 0===c&&(c="full"),e.validateScript(a,b,c)};c.referencesMember=function(a,b){return e.referencesMember(a,b)};c.referencesFunction=function(a,b){return e.referencesFunction(a,b)}});