//>>built
define("esri/layers/TiledMapServiceLayer","dojo/_base/declare dojo/_base/connect dojo/_base/lang dojo/_base/array dojo/_base/url dojo/dom-construct dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/dom dojox/collections/ArrayList dojox/gfx/matrix ../kernel ../config ../sniff ../domUtils ../tileUtils ../geometry/Point ../geometry/Rect ../geometry/Extent ./layer".split(" "),function(z,r,y,w,J,p,K,L,k,T,M,P,q,Q,u,R,F,A,G,U,S){z=z(S,{declaredClass:"esri.layers.TiledMapServiceLayer",constructor:function(b,
c){r.connect(this,"onLoad",this,"_initTiledLayer");this._lowestLevel=(this._displayLevels=c?c.displayLevels:null)?this._displayLevels[0]:0;this.resampling=c?c.resampling:void 0;this._resamplingTolerance=c?c.resamplingTolerance:null;this.exclusionAreas=c?c.exclusionAreas:null;var d=y.hitch;this._addImage=d(this,this._addImage);this._tileLoadHandler=d(this,this._tileLoadHandler);this._tileErrorHandler=d(this,this._tileErrorHandler);this._popTile=d(this,this._popTile);this._cleanUpRemovedImages=d(this,
this._cleanUpRemovedImages);this._fireOnUpdateEvent=d(this,this._fireOnUpdateEvent);this._transitionEnd=d(this,this._transitionEnd);this._tileMapCallback=d(this,this._tileMapCallback)},opacity:1,isPNG32:!1,_multiple:1,isResampling:!1,_initTiledLayer:function(){var b=this.tileInfo,c=b.lods;this.resampling=null!=this.resampling?this.resampling:!1;this._tileW=b.width;this._tileH=b.height;var d,a,e,f=this.scales=[],g=this._displayLevels,h=-1/0,n=1/0;d=this.fullExtent;var l=new A(d.xmin,d.ymax),k=new A(d.xmax,
d.ymin),m=F.getContainingTileCoords,B=c.length;for(e=0;B>e;e++)a=c[e],d=m(b,l,a),a.startTileRow=0>d.row?0:d.row,a.startTileCol=0>d.col?0:d.col,d=m(b,k,a),a.endTileRow=d.row,a.endTileCol=d.col,g&&-1===w.indexOf(g,a.level)||(f[e]=a.scale,h=a.scale>h?a.scale:h,n=a.scale<n?a.scale:n);h===-1/0||this._hasMin||this.setMinScale(h);1/0===n||this._hasMax||this.setMaxScale(n);this.setExclusionAreas(this.exclusionAreas);this._patchIE=6<=u("ie")&&7>u("ie")&&(this.isPNG32||"Mixed"===b.format)},isVisibleAtScale:function(b){return b?
S.prototype._isMapAtVisibleScale.call(this,b,!0):!1},_isMapAtVisibleScale:function(b){var c=this.inherited(arguments,[b,!0]);if(c){var d;d=this._map;var c=this.scales,a=d.getScale(),e=!1,f=d.width>d.height?d.width:d.height;for(d=0;d<c.length;d++)if(Math.abs(c[d]-a)/c[d]<1/f){e=!0;break}c=e}return c},_setMap:function(b,c){this.inherited(arguments);this._map=b;var d=this._div=p.create("div",null,c),a=b.__visibleDelta,e=r.connect,f=q._css.names,g={position:"absolute",width:b.width+"px",height:b.height+
"px",overflow:"visible"},h=Q.defaults.map.zoomDuration;"css-transforms"===b.navigationMode?(g[f.transform]=q._css.translate(-a.x,-a.y),k.set(d,g),delete g[f.transform],g[f.transition]=f.transformName+" "+h+"ms ease",k.set(this._active=p.create("div",null,d),g),this._active._remove=0,this._passives=[]):(g.left=-a.x+"px",g.top=-a.y+"px",k.set(d,g));this._onResizeHandler_connect=e(b,"onResize",this,"_onResizeHandler");this._opacityChangeHandler_connect=e(this,"onOpacityChange",this,"_opacityChangeHandler");
a=this.tileInfo;e=a.spatialReference;f=e._getInfo();if(this._wrap=b.wrapAround180&&e._isWrappable()&&Math.abs(f.origin[0]-a.origin.x)<=f.dx,this._wrap&&F._addFrameInfo(a,f),this.setExclusionAreas(this.exclusionAreas),this.evaluateSuspension(),this.suspended&&!b.loaded)var n=r.connect(b,"onLoad",this,function(){r.disconnect(n);n=null;this.setExclusionAreas(this.exclusionAreas);this.evaluateSuspension()});return d},_unsetMap:function(){this.suspended||this._suspendImpl();p.destroy(this._div);this._map=
this._div=null;var b=r.disconnect;b(this._onResizeHandler_connect);b(this._opacityChangeHandler_connect);this.inherited(arguments)},onSuspend:function(){this.inherited(arguments);this._suspendImpl()},_suspendImpl:function(){R.hide(this._div);clearTimeout(this._wakeTimer);this._wakeTimer=null;this._disableDrawConnectors();var b,c,d,a=this._tiles,e=this._tileIds;c=this._loadingList;var f=r.disconnect,g=p.destroy;c&&0<c.count&&(c.forEach(function(c){(b=a[c])&&(f(b._onload_connect),f(b._onerror_connect),
f(b._onabort_connect),b._onload_connect=b._onerror_connect=b._onabort_connect=null)}),c.clear(),this._fireUpdateEnd());this._removeList.clear();for(c=e.length-1;0<=c;c--)(b=(d=e[c])&&a[d])&&g(b);if("css-transforms"===this._map.navigationMode){d=this._active;var h=this._passives;this._noDom=0;for(c=h.length-1;0<=c;c--)e=h[c],e._endHandle&&f(e._endHandle),e._matrix=e._multiply=e._endHandle=null,e._marked=e._remove=0,h.splice(c,1),g(e);d._matrix=d._multiply=null;d._marked=d._remove=0}this._tileIds=this._tiles=
this._tileBounds=this._ct=this._loadingList=this._removeList=this._standby=null},onResume:function(){this.inherited(arguments);this._tileIds=[];this._tiles=[];this._tileBounds=[];this._ct=null;this._removeList=new M;this._loadingList=new M;R.show(this._div);this._enableDrawConnectors();this._wakeTimer=this._wakeTimer||setTimeout(y.hitch(this,function(){this.suspended||this._onExtentChangeHandler(this._map.extent,null,!0,this._map.__LOD)}),0)},_enableDrawConnectors:function(){var b=this._map,c=r.connect;
if("css-transforms"===b.navigationMode){if(this._onScaleHandler_connect=c(b,"onScale",this,this._onScaleHandler),u("esri-mobile")){this._standby=[];var d=this,a=function(){d._noDom=1};this._onPanStartHandler_connect=c(b,"onPanStart",a);this._onZoomStartHandler_connect=c(b,"onZoomStart",a)}}else this._onZoomHandler_connect=c(b,"onZoom",this,"_onZoomHandler");this._onPanHandler_connect=c(b,"onPan",this,"_onPanHandler");this._onExtentChangeHandler_connect=c(b,"onExtentChange",this,"_onExtentChangeHandler")},
_disableDrawConnectors:function(){var b=r.disconnect;b(this._onPanHandler_connect);b(this._onZoomHandler_connect);b(this._onScaleHandler_connect);b(this._onExtentChangeHandler_connect);b(this._onPanStartHandler_connect);b(this._onZoomStartHandler_connect);this._onPanHandler_connect=this._onZoomHandler_connect=this._onScaleHandler_connect=this._onExtentChangeHandler_connect=this._onPanStartHandler_connect=this._onZoomStartHandler_connect=null},_onResizeHandler:function(b,c,d){c={width:c+"px",height:d+
"px"};d=k.set;if(d(this._div,c),"css-transforms"===this._map.navigationMode)for(this._active&&d(this._active,c),b=this._passives.length-1;0<=b;b--)d(this._passives[b],c)},_onExtentChangeHandler:function(b,c,d){var a,e,f;c=this._map;var g=this._standby;if(clearTimeout(this._wakeTimer),this._wakeTimer=null,!c._isPanningOrZooming()){if("css-transforms"===c.navigationMode){if(d)for(a=this._passives.length-1;0<=a;a--)f=this._passives[a],k.set(f,q._css.names.transition,"none"),f._marked?(this._passives.splice(a,
1),f.parentNode&&f.parentNode.removeChild(f),p.destroy(f)):0<f.childNodes.length&&(f._multiply=f._multiply?P.multiply(f._matrix,f._multiply):f._matrix);if(this._noDom=0,g&&g.length)for(a=g.length-1;0<=a;a--)e=g[a],k.set(e,"visibility","inherit"),this._popTile(e),g.splice(a,1)}this._fireUpdateStart();this._rrIndex=0;a=F.getCandidateTileInfo(c,this.tileInfo,b);b=c.__visibleDelta;if(!this._ct||a.lod.level!==this._ct.lod.level||d){g=a&&this._ct&&a.lod.level!==this._ct.lod.level;this._ct=a;var h,n=this._tiles,
l=this._tileIds,v=this._tileBounds,m=this._removeList,B=l.length;this._cleanUpRemovedImages();for(a=0;B>a;a++)f=l[a],h=n[f],v[f]=l[a]=null,"css-transforms"===c.navigationMode&&g&&h.parentNode&&c.fadeOnZoom&&(h._fadeOut=g,h.parentNode._remove++),m.add(h);d&&(this._tileIds=[],this._tiles=[],this._tileBounds=[])}d=b.x;a=b.y;"css-transforms"===c.navigationMode?(f={},f[q._css.names.transform]=q._css.translate(d,a),k.set(this._div,f)):k.set(this._div,{left:d+"px",top:a+"px"});this.__coords_dx=d;this.__coords_dy=
a;this._updateImages(new G(0,0,b.width,b.height));0===this._loadingList.count?(this._cleanUpRemovedImages(),this.onUpdate(),this._fireUpdateEnd()):this._fireOnUpdate=!0;var C,x;d=this._tileW;g=this._tileH;b=new G(-b.x,-b.y,b.width,b.height);for(a=this._tileIds.length-1;0<=a;a--)(f=this._tileIds[a])?(e=this._tiles[f],C=L.getMarginBox(e),x=new G(C.l,C.t,d,g),"css-transforms"===c.navigationMode&&(x.x=e._left,x.y=e._top),b.intersects(x)?this._tileBounds[f]=x:(this._loadingList.contains(f)&&this._popTile(e),
p.destroy(e),this._tileIds.splice(a,1),delete this._tileBounds[f],delete this._tiles[f])):(this._tileIds.splice(a,1),delete this._tileBounds[f],delete this._tiles[f])}},_onPanHandler:function(b,c){var d=this._map,a=d.__visibleDelta.offset(c.x,c.y);(this.__coords_dx=this.__coords_dy=0,"css-transforms"===d.navigationMode)?(d={},d[q._css.names.transform]=q._css.translate(a.x,a.y),k.set(this._div,d),u("esri-mobile")||this._updateImages({x:-a.x,y:-a.y,width:a.width,height:a.height})):(k.set(this._div,
{left:a.x+"px",top:a.y+"px"}),this._updateImages({x:-a.x,y:-a.y,width:a.width,height:a.height}));0<this._loadingList.count&&(this._fireUpdateStart(),this._fireOnUpdate=!0)},_onScaleHandler:function(b,c){var d,a={},e=q._css.names,f=this._map,g=Q.defaults.map.zoomDuration;for(d=this._passives.length-1;0<=d;d--){var h=this._passives[d];0===h.childNodes.length?(this._passives.splice(d,1),p.destroy(h)):("none"===h.style[e.transition]&&k.set(h,e.transition,e.transformName+" "+g+"ms ease"),k.set(h,e.transition,
c?"none":e.transformName+" "+g+"ms ease"),h._matrix=b,a[e.transform]=q._css.matrix(h._multiply?P.multiply(b,h._multiply):b),k.set(h,a))}this._active&&0===this._active.childNodes.length||(k.set(this._active,e.transition,c?"none":e.transformName+" "+g+"ms ease"),this._active._matrix=b,a[e.transform]=q._css.matrix(this._active._matrix),k.set(this._active,a),this._passives.push(this._active),a={position:"absolute",width:f.width+"px",height:f.height+"px",overflow:"visible"},a[e.transition]=e.transformName+
" "+g+"ms ease",k.set(this._active=p.create("div",null,this._div),a),this._active._remove=0,f.fadeOnZoom&&p.place(this._active,this._div,"first"))},_onZoomHandler:function(b,c,d){b=L.getMarginBox(this._div);d=d.offset(-b.l,-b.t);this._previousScale&&1!==c||(this._previousScale=1);var a,e,f,g=this._tileW*c,h=this._tileH*c,n=this._tileBounds,l=this._tiles,v=this._previousScale,m=this._multiple,B=k.set;if((b=u("ie"))&&8>b)w.forEach(this._tileIds,function(b){f="";a=n[b];e=l[b].style.margin.split(" ");
w.forEach(e,function(a){""!==f&&(f+=" ");a=parseFloat(a);f+=a/v*c+"px"});B(l[b],{left:a.x-(g-a.width)*(d.x-a.x)/a.width+"px",top:a.y-(h-a.height)*(d.y-a.y)/a.height+"px",margin:1!==m&&-1===f.indexOf("NaN")?f:"",zoom:c})});else{var C,q,p=g*m,r=h*m;w.forEach(this._tileIds,function(b){f="";a=n[b];C=a.x-(g-a.width)*(d.x-a.x)/a.width;q=a.y-(h-a.height)*(d.y-a.y)/a.height;e=l[b].style.margin.split(" ");w.forEach(e,function(a){""!==f&&(f+=" ");a=parseFloat(a);f+=a/v*c+"px"});B(l[b],{left:C+"px",top:q+"px",
margin:1!==m&&-1===f.indexOf("NaN")?f:"",width:p+"px",height:r+"px"})})}this._previousScale=c},_updateImages:function(b){if(this._ct){var c,d,a,e,f,g,h,n,l=this._tileW,k=this._tileH,m=this._ct;a=m.lod;var m=m.tile,q=m.offsets,p=m.coords,r=p.row,p=p.col,N=a.level,u=this.opacity,t=this._tileIds,A=this._loadingList,z=this._addImage,y=this._map.id,F=this.id,D=b.x,E=b.y,G=a.startTileRow,J=a.endTileRow,K=a.startTileCol,L=a.endTileCol,M=w.indexOf,O=q.x-this.__coords_dx,H=q.y-this.__coords_dy;n=l-O+-b.x;
var I=k-H+-b.y;h=Math.ceil;n=0<n?n%l:l-Math.abs(n)%l;I=0<I?I%k:k-Math.abs(I)%k;D=0<D?Math.floor((D+O)/l):h((D-(l-O))/l);E=0<E?Math.floor((E+H)/k):h((E-(k-H))/k);H=D+h((b.width-n)/l);b=E+h((b.height-I)/k);this._wrap&&(d=a._frameInfo,e=d[0],f=d[1],g=d[2]);for(h=D;H>=h;h++)for(n=E;b>=n;n++)d=r+n,a=p+h,this._wrap&&(f>a?(a%=e,a=f>a?a+e:a):a>g&&(a%=e)),!this._isExcluded(N,d,a)&&d>=G&&J>=d&&a>=K&&L>=a&&(c=y+"_"+F+"_tile_"+N+"_"+n+"_"+h,-1===M(t,c)&&(A.add(c),t.push(c),z(N,n,d,h,a,c,l,k,u,m,q)))}},_cleanUpRemovedImages:function(){var b,
c=this._removeList,d=p.destroy,a=q._css.names;if(c.forEach(function(a){a._fadeOut||(a.style.filter="",a.style.zoom=1,d(a))}),"css-transforms"===this._map.navigationMode)for(b=this._passives.length-1;0<=b;b--){var e=this._passives[b];0===e.childNodes.length?(this._passives.splice(b,1),d(e)):this._map.fadeOnZoom&&!e._marked&&e._remove===e.childNodes.length&&(e._marked=1,2048>q._css.getScaleFromMatrix(k.get(e,a.transform))?(k.set(e,a.transition,"opacity 0.65s"),k.set(e,"opacity",0),r.disconnect(e._endHandle),
e._endHandle=r.connect(e,a.endEvent,this._transitionEnd)):this._transitionEnd({propertyName:"opacity",target:e}))}c.clear()},_transitionEnd:function(b){var c,d=b.target;"opacity"===b.propertyName&&(r.disconnect(d._endHandle),d._endHandle=null,c=w.indexOf(this._passives,d),-1<c&&this._passives.splice(c,1),d.parentNode&&d.parentNode.removeChild(d),p.destroy(d))},_addImage:function(b,c,d,a,e,f,g,h,n,l,v){if(this._patchIE)l=this._tiles[f]=p.create("div"),l.id=f,K.add(l,"layerTile"),k.set(l,{left:g*a-
v.x+"px",top:h*c-v.y+"px",width:g+"px",height:h+"px",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(src\x3d'"+this.getTileUrl(b,d,e)+"', sizingMethod\x3d'scale')"}),1>n&&k.set(l,"opacity",n),b=l.appendChild(p.create("div")),k.set(b,{opacity:0,width:g+"px",height:h+"px"}),this._div.appendChild(l),this._loadingList.remove(f),this._fireOnUpdateEvent();else{l=this._tiles[f]=p.create("img");var m=r.connect;l.id=f;l.alt="";K.add(l,"layerTile");a=g*a-v.x;v=h*c-v.y;c=this._map;var B=q._css.names;
g={width:g+"px",height:h+"px",visibility:"hidden"};("css-transforms"===c.navigationMode?(g[B.transform]=q._css.translate(a,v),k.set(l,g),l._left=a,l._top=v):(g.left=a+"px",g.top=v+"px",k.set(l,g)),1>n&&k.set(l,"opacity",n),l._onload_connect=m(l,"onload",this,"_tileLoadHandler"),l._onerror_connect=m(l,"onerror",y.hitch(this,"_tileErrorHandler",d,e)),l._onabort_connect=m(l,"onabort",this,"_tileAbortHandler"),this.tileMap)?this.tileMap.getTile(b,d,e,f,this._tileMapCallback):(f=this.getTileUrl(b,d,e,
l))&&(this._failedRequests&&this._failedRequests[f]?(k.set(l,this._failedRequests[f].css),l.src=this._failedRequests[f].src,this._multiple=parseInt(this._failedRequests[f].css.width)/this._tileW,this.isResampling=1!==this._multiple):(this._multiple=1,this.isResampling=!1,l.src=f));"css-transforms"===c.navigationMode?this._active.appendChild(l):this._div.appendChild(l)}},_tileMapCallback:function(b,c){var d,a;this.suspended||(a=this._tiles[c.id]||T.byId(c.id),a?(this._multiple=2*(c.level-b.level)||
1,this.isResampling=1!==this._multiple,d=this.tileMap.style(b,c),k.set(a,d),a.src=this.getTileUrl(b.level,b.row,b.col)):this._popTile(c))},getTileUrl:function(){},_reCheckTS:/[\?\&]_ts=/gi,_reReplaceTS:/([\?\&]_ts=)[0-9]+/gi,addTimestampToURL:function(b){var c=this._refreshTS;return c&&(this._reCheckTS.test(b)?b=b.replace(this._reReplaceTS,"$$$1"+c):b+=(-1===b.indexOf("?")?"?":"\x26")+"_ts\x3d"+c),b},refresh:function(){this.suspended||(this._refreshTS=(new Date).getTime(),this._onExtentChangeHandler(this._map.extent,
null,!0,this._map.__LOD))},_popTile:function(b){var c=r.disconnect;c(b._onload_connect);c(b._onerror_connect);c(b._onabort_connect);b._onload_connect=b._onerror_connect=b._onabort_connect=null;this._loadingList.remove(b.id);this._fireOnUpdateEvent()},_tileLoadHandler:function(b){b=b.currentTarget;return this._noDom?void this._standby.push(b):(k.set(b,"visibility","inherit"),void this._popTile(b))},_tileAbortHandler:function(b){b=b.currentTarget;this.onError(Error("Unable to load tile: "+b.src));k.set(b,
"visibility","hidden");this._popTile(b)},_tileErrorHandler:function(b,c,d){var a,e,f,g;d=d.currentTarget;var h=!0;this.tileMap||!this.resampling?h=!1:(a=new J(d.src),e=a.path.split("/"),f=parseInt(e[e.length-3]),g=this._ct.lod.level-f+1,this._multiple=Math.pow(2,g),(f===this._lowestLevel||0===this._resamplingTolerance||this._resamplingTolerance&&Math.log(this._multiple)/Math.LN2>this._resamplingTolerance)&&(h=!1));h?(this.isResampling=!0,this._resample(d,b,c)):(this.onError(Error("Unable to load tile: "+
d.src)),k.set(d,"visibility","hidden"),this._popTile(d))},_resample:function(b,c,d){var a=(new J(b.src)).path.split("/"),e=this._multiple,f=parseInt(a[a.length-3])-1,g=parseInt(c/e),h=parseInt(d/e),a=d%e,n=c%e,g=this.getTileUrl(f,g,h);c=this.getTileUrl(f+Math.log(e)/Math.LN2,c,d);e={width:this._tileW*e+"px",height:this._tileH*e+"px",margin:"-"+this._tileW*n+"px 0 0 "+("-"+this._tileH*a+"px")};this._failedRequests||(this._failedRequests={});this._failedRequests[c]={src:g,css:e};k.set(b,e);u("chrome")&&
b.setAttribute("src",null);b.src=g},_fireOnUpdateEvent:function(){0===this._loadingList.count&&(this._cleanUpRemovedImages(),this._fireOnUpdate&&(this._fireOnUpdate=!1,this.onUpdate(),this._fireUpdateEnd()))},setOpacity:function(b){this.opacity!=b&&this.onOpacityChange(this.opacity=b)},onOpacityChange:function(){},_opacityChangeHandler:function(b){var c,d,a,e=k.set;if("css-transforms"!==this._map.navigationMode)for(a=this._div.childNodes,c=a.length-1;0<=c;c--)e(a[c],"opacity",b);else{if(this._active)for(a=
this._active.childNodes,c=a.length-1;0<=c;c--)e(a[c],"opacity",b);for(c=this._passives.length-1;0<=c;c--)for(a=this._passives[c].childNodes,d=a.length-1;0<=d;d--)e(a[d],"opacity",b)}},setExclusionAreas:function(b){if(this.exclusionAreas=b,this.loaded&&this._map&&this._map.loaded){var c,d,a,e,f,g,h,k,l,q,m,p,r,x=this._map.spatialReference,u=this.tileInfo,w=u.origin,t=u.lods,z=t[0].level,y=t[t.length-1].level;if(this.exclusionAreas&&this.exclusionAreas.length)for(this._exclusionsPerZoom=[],d=0,a=b.length;a>
d;d++){if(c=b[d],m=c.geometry,m&&"extent"===m.type&&m.xmin<=m.xmax&&m.ymin<=m.ymax){if(!x.equals(m.spatialReference)){if(!x._canProject(m.spatialReference))continue;x.isWebMercator()?(p=A.lngLatToXY(m.xmin,m.ymin),r=A.lngLatToXY(m.xmax,m.ymax)):(p=A.xyToLngLat(m.xmin,m.ymin,!0),r=A.xyToLngLat(m.xmax,m.ymax,!0));m=new U(p[0],p[1],r[0],r[1],x)}if(g=-1,c.minZoom&&-1!==c.minZoom)g=c.minZoom;else if(c.minScale&&-1!==c.minScale)for(e=0,f=t.length;f>e;e++)if(t[e].scale<=c.minScale){g=t[e].level;break}if(g=
Math.max(g,z),k=-1,c.maxZoom&&-1!==c.maxZoom)k=c.maxZoom;else if(c.maxScale&&-1!==c.maxScale)for(e=0,f=t.length;f>e;e++){if(t[e].scale<c.maxScale){k=t[e-1].level;break}if(t[e].scale===c.maxScale){k=t[e].level;break}}for(k=-1===k?y:Math.min(k,y);k>=g;g++){e=0;for(f=t.length;f>e;e++)if(t[e].level===g){h=t[e];break}h&&(this._exclusionsPerZoom[g]||(this._exclusionsPerZoom[g]=[]),l=1/h.resolution/u.rows,q=1/h.resolution/u.cols,this._exclusionsPerZoom[g].push({rowFrom:Math.floor((w.y-m.ymax)*l),rowTo:Math.ceil((w.y-
m.ymin)*l),colFrom:Math.floor((m.xmin-w.x)*q),colTo:Math.ceil((m.xmax-w.x)*q)}))}}}else this._exclusionsPerZoom=null;this.suspended||this._onExtentChangeHandler(this._map.extent,null,!0,this._map.__LOD)}},_isExcluded:function(b,c,d){var a,e,f;if(!this._exclusionsPerZoom||(e=this._exclusionsPerZoom[b],!e))return!1;b=0;for(f=e.length;f>b;b++)if(a=e[b],c>=a.rowFrom&&c<a.rowTo&&d>=a.colFrom&&d<a.colTo)return!0;return!1}});return u("extend-esri")&&y.setObject("layers.TiledMapServiceLayer",z,q),z});