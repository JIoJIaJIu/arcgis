//>>built
define("esri/geometry/screenUtils","dojo/_base/array dojo/_base/lang dojo/sniff ../kernel ./Point ./ScreenPoint ./Polyline ./Polygon ./Multipoint ./Extent".split(" "),function(B,C,D,F,q,G,w,x,y,z){var I=function(){return 9>D("ie")?function(b,n,p,a,l,g,d,e,f){var c,h,m,q,k,r,t,v=[],u=Math.round,H=d.length;for(c=0;H>c;c++)if(h=d[c],k=e?e(h[0][0],h[0][1],f):h[0],1<(q=h.length))for(r=u((k[0]-b)*p+l),t=u((n-k[1])*a+g),k=e?e(h[1][0],h[1][1],f):h[1],m=u((k[0]-b)*p+l),k=u((n-k[1])*a+g),v.push("M",r+","+t,
"L",m+","+k),m=2;q>m;m++)k=e?e(h[m][0],h[m][1],f):h[m],r=u((k[0]-b)*p+l),t=u((n-k[1])*a+g),v.push(r+","+t);else r=u((k[0]-b)*p+l),t=u((n-k[1])*a+g),v.push("M",r+","+t);return v}:function(b,n,p,a,l,g,d,e,f){var c,h,m,q,k,r,t=[],v=Math.round;c=0;for(m=d?d.length:0;m>c;c++)for(k=d[c],t.push("M"),h=0,q=k?k.length:0;q>h;h++)r=e?e(k[h][0],k[h][1],f):k[h],t.push(v((r[0]-b)*p+l)+","+v((n-r[1])*a+g));return t}}(),E={toScreenPoint:function(b,n,p,a,l){var g,d=b.spatialReference,e=a.spatialReference,f=a.x;a=
a.y;return d&&e&&!d.equals(e)&&d._canProject(e)&&(g=d.isWebMercator()?q.lngLatToXY(f,a):q.xyToLngLat(f,a,!0),f=g[0],a=g[1]),f=(f-b.xmin)*(n/b.getWidth()),a=(b.ymax-a)*(p/b.getHeight()),l||(f=Math.round(f),a=Math.round(a)),new G(f,a)},toScreenGeometry:function(b,n,p,a){var l=b.xmin,g=b.ymax,d=n/b.getWidth(),e=p/b.getHeight(),f=B.forEach,c=Math.round;if(a instanceof q)return new q(c((a.x-l)*d),c((g-a.y)*e));if(a instanceof y){b=new y;var h=b.points;return f(a.points,function(a,b){h[b]=[c((a[0]-l)*d),
c((g-a[1])*e)]}),b}if(a instanceof z)return new z(c((a.xmin-l)*d),c((g-a.ymin)*e),c((a.xmax-l)*d),c((g-a.ymax)*d));if(a instanceof w){var m;b=new w;var A=b.paths;return f(a.paths,function(a,b){m=A[b]=[];f(a,function(a,b){m[b]=[c((a[0]-l)*d),c((g-a[1])*e)]})}),b}if(a instanceof x){var k;b=new x;var r=b.rings;return f(a.rings,function(a,b){k=r[b]=[];f(a,function(a,b){k[b]=[c((a[0]-l)*d),c((g-a[1])*e)]})}),b}},_toScreenPath:function(b,n,p,a,l,g){var d,e,f=a instanceof w,c=b.spatialReference,h=a.spatialReference;
return c&&h&&!c.equals(h)&&c._canProject(h)&&(c.isWebMercator()?d=q.lngLatToXY:(d=q.xyToLngLat,e=!0)),I(b.xmin,b.ymax,n/b.getWidth(),p/b.getHeight(),l,g,f?a.paths:a.rings,d,e)},toMapPoint:function(b,n,p,a){return new q(b.xmin+a.x/(n/b.getWidth()),b.ymax-a.y/(p/b.getHeight()),b.spatialReference)},toMapGeometry:function(b,n,p,a){var l=b.xmin,g=b.ymax,d=b.spatialReference,e=n/b.getWidth(),f=p/b.getHeight(),c=B.forEach;if(a instanceof q)return new q(l+a.x/e,g-a.y/f,d);if(a instanceof y){b=new y(d);var h=
b.points;return c(a.points,function(a,b){h[b]=[l+a[0]/e,g-a[1]/f]}),b}if(a instanceof z)return new z(l+a.xmin/e,g-a.ymin/f,l+a.xmax/e,g-a.ymax/f,d);if(a instanceof w){var m;b=new w(d);var A=b.paths;return c(a.paths,function(a,b){m=A[b]=[];c(a,function(a,b){m[b]=[l+a[0]/e,g-a[1]/f]})}),b}if(a instanceof x){var k;b=new x(d);var r=b.rings;return c(a.rings,function(a,b){k=r[b]=[];c(a,function(a,b){k[b]=[l+a[0]/e,g-a[1]/f]})}),b}}};return D("extend-esri")&&C.mixin(C.getObject("geometry",!0,F),E),E});