//>>built
define("esri/geometry/scaleUtils","dojo/_base/lang dojo/has ../kernel ../config ../lang ../WKIDUnitConversion".split(" "),function(l,r,h,t,u,v){function m(a,b,c){return a&&b?a.getWidth()/b*(c||k)*n*p.screenDPI:0}function q(a,b,c,d,f){var g;return g=f?c:e.values[e[c]],a.expand(d*b/((g||k)*n*p.screenDPI)/a.getWidth())}var n=39.37,k=6370997*Math.PI/180,p=t.defaults,e=v,f={getUnitValueForSR:function(a){return this.getUnitValue(a)||k},getUnitValue:function(a){var b,c,d;(a&&("object"==typeof a?(b=a.wkid,
c=a.wkt):"number"==typeof a?b=a:"string"==typeof a&&(c=a)),b)?d=e.values[e[b]]:c&&-1!==c.search(/^PROJCS/i)&&(a=/UNIT\[([^\]]+)\]\]$/i.exec(c))&&a[1]&&(d=parseFloat(a[1].split(",")[1]));return d},getScale:function(a,b,c){var d,e,g;return 1<arguments.length&&u.isDefined(b)&&!b.declaredClass?(d=a,e=b,b=null,g=f.getUnitValue(c)):(d=b||a.extent,e=a.width,g=f.getUnitValue(d&&d.spatialReference)),m(d,e,g)},getExtentForScale:function(a,b,c){return q(c||a.extent,a.width,f.getUnitValue(a.spatialReference),
b,!0)}};return r("extend-esri")&&(l.mixin(l.getObject("geometry",!0,h),f),h.geometry._getScale=m,h.geometry._getExtentForScale=q),f});