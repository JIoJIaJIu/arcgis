//>>built
define("esri/geometry/mathUtils",["dojo/_base/lang","dojo/has","../kernel","./Point"],function(r,y,z,q){function v(a,c,b){return a instanceof q?new q(a.x+b*(c.x-a.x),a.y+b*(c.y-a.y)):[a[0]+b*(c[0]-a[0]),a[1]+b*(c[1]-a[1])]}function k(a,c){return 1E-8>Math.abs(a-c)}function w(a,c,b,d){var e,g,f=k(a[0],c[0])?1E10:(a[1]-c[1])/(a[0]-c[0]),l=k(b[0],d[0])?1E10:(b[1]-d[1])/(b[0]-d[0]),h=a[1]-f*a[0],m=b[1]-l*b[0];if(k(f,l)){if(k(h,m)){if(k(a[0],c[0])){if(!(Math.min(a[1],c[1])<Math.max(b[1],d[1])||Math.max(a[1],
c[1])>Math.min(b[1],d[1])))return null;g=(a[1]+c[1]+b[1]+d[1]-Math.min(a[1],c[1],b[1],d[1])-Math.max(a[1],c[1],b[1],d[1]))/2;e=(g-h)/f}else{if(!(Math.min(a[0],c[0])<Math.max(b[0],d[0])||Math.max(a[0],c[0])>Math.min(b[0],d[0])))return null;e=(a[0]+c[0]+b[0]+d[0]-Math.min(a[0],c[0],b[0],d[0])-Math.max(a[0],c[0],b[0],d[0]))/2;g=f*e+h}return[e,g]}return null}return k(f,1E10)?(e=a[0],g=l*e+m):k(l,1E10)?(e=b[0],g=f*e+h):(e=-(h-m)/(f-l),g=a[1]===c[1]?a[1]:b[1]===d[1]?b[1]:f*e+h),[e,g]}var x={getLength:function(a,
c){var b=c.x-a.x,d=c.y-a.y;return Math.sqrt(b*b+d*d)},_getLength:function(a,c){var b=c[0]-a[0],d=c[1]-a[1];return Math.sqrt(b*b+d*d)},getPointOnLine:v,getMidpoint:function(a,c){return v(a,c,.5)},_equals:k,_getLineIntersection:w,getLineIntersection:function(a,c,b,d,e){a=w([a.x,a.y],[c.x,c.y],[b.x,b.y],[d.x,d.y]);return a&&(a=new q(a[0],a[1],e)),a},_getLineIntersection2:function(a,c){var b,d,e,g,f=a[0],l=a[1],h=c[0],m=c[1],k=f[0],f=f[1],p=l[0],l=l[1],n=h[0],t=h[1],h=m[0]-n,n=k-n,q=p-k,m=m[1]-t,t=f-
t,r=l-f,u=m*q-h*r;return 0===u?!1:(b=(h*t-m*n)/u,d=(q*t-r*n)/u,0<=b&&1>=b&&0<=d&&1>=d?(e=k+b*(p-k),g=f+b*(l-f),[e,g]):!1)},_pointLineDistance:function(a,c){var b=c[0],d=c[1],e=b[0],g=b[1],b=a[0],f=a[1],l=d[0]-e,h=d[1]-g,m=b-e,k=f-g,d=Math.sqrt,p=Math.pow,n=d(p(l,2)+p(h,2)),m=(m*l+k*h)/(n*n),g=g+m*h;return d(p(b-(e+m*l),2)+p(f-g,2))}};return y("extend-esri")&&r.mixin(r.getObject("geometry",!0,z),x),x});